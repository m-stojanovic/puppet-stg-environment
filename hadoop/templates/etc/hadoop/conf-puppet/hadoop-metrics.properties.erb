# THIS FILE IS AUTOGENERATED BY PUPPET

<% if scope['hadoop::config::metrics_use_ganglia'] == true or scope['hadoop::config::metrics_use_ganglia'] == 'true'-%>
# Configuration of the "dfs" context for ganglia
# Pick one: Ganglia 3.0 (former) or Ganglia 3.1 (latter)
# ---- DFS IS MIGRATED TO METRICS 2 ---- See: hadoop-metrics2.properties
#dfs.class=org.apache.hadoop.metrics.ganglia.GangliaContext
#dfs.class=org.apache.hadoop.metrics.ganglia.GangliaContext31
#dfs.period=10
#dfs.servers=<%= scope['hadoop::config::ganglia_master_address'] %>:<%= scope['hadoop::config::ganglia_udp_send_port'] %>

# Configuration of the "mapred" context for null
#mapred.class=org.apache.hadoop.metrics.spi.NullContext

# Configuration of the "mapred" context for file
#mapred.class=org.apache.hadoop.metrics.file.FileContext
#mapred.period=10
#mapred.fileName=/tmp/mrmetrics.log

# Configuration of the "mapred" context for ganglia
# Pick one: Ganglia 3.0 (former) or Ganglia 3.1 (latter)
# mapred.class=org.apache.hadoop.metrics.ganglia.GangliaContext
mapred.class=org.apache.hadoop.metrics.ganglia.GangliaContext31
mapred.period=<%= scope['hadoop::config::metrics_sampling_period'] %>
mapred.servers=<%= scope['hadoop::config::metrics_ganglia_host'] %>:<%= scope['hadoop::config::metrics_ganglia_udp_port'] %>

# Configuration of the "jvm" context for null
#jvm.class=org.apache.hadoop.metrics.spi.NullContext

# Configuration of the "jvm" context for file
#jvm.class=org.apache.hadoop.metrics.file.FileContext
#jvm.period=10
#jvm.fileName=/tmp/jvmmetrics.log

# Configuration of the "jvm" context for ganglia
# jvm.class=org.apache.hadoop.metrics.ganglia.GangliaContext
jvm.class=org.apache.hadoop.metrics.ganglia.GangliaContext31
jvm.period=<%= scope['hadoop::config::metrics_sampling_period'] %>
jvm.servers=<%= scope['hadoop::config::metrics_ganglia_host'] %>:<%= scope['hadoop::config::metrics_ganglia_udp_port'] %>

# Configuration of the "rpc" context for null
#rpc.class=org.apache.hadoop.metrics.spi.NullContext

# Configuration of the "rpc" context for file
#rpc.class=org.apache.hadoop.metrics.file.FileContext
#rpc.period=10
#rpc.fileName=/tmp/rpcmetrics.log

# Configuration of the "rpc" context for ganglia
# rpc.class=org.apache.hadoop.metrics.ganglia.GangliaContext
rpc.class=org.apache.hadoop.metrics.ganglia.GangliaContext31
rpc.period=<%= scope['hadoop::config::metrics_sampling_period'] %>
rpc.servers=<%= scope['hadoop::config::metrics_ganglia_host'] %>:<%= scope['hadoop::config::metrics_ganglia_udp_port'] %>

# Configuration of the "ugi" context for null
#ugi.class=org.apache.hadoop.metrics.spi.NullContext

# Configuration of the "ugi" context for file
#ugi.class=org.apache.hadoop.metrics.file.FileContext
#ugi.period=10
#ugi.fileName=/tmp/ugimetrics.log

# Configuration of the "ugi" context for ganglia
# ugi.class=org.apache.hadoop.metrics.ganglia.GangliaContext
ugi.class=org.apache.hadoop.metrics.ganglia.GangliaContext31
ugi.period=<%= scope['hadoop::config::metrics_sampling_period'] %>
ugi.servers=<%= scope['hadoop::config::metrics_ganglia_host'] %>:<%= scope['hadoop::config::metrics_ganglia_udp_port'] %>

# Configuration of the "fairscheduler" context
fairscheduler.class=org.apache.hadoop.metrics.ganglia.GangliaContext31
fairscheduler.period=<%= scope['hadoop::config::metrics_sampling_period'] %>
fairscheduler.servers=<%= scope['hadoop::config::metrics_ganglia_host'] %>:<%= scope['hadoop::config::metrics_ganglia_udp_port'] %>
<% else -%>
mapred.class=org.apache.hadoop.metrics.spi.NullContextWithUpdateThread
mapred.period=<%= scope['hadoop::config::metrics_sampling_period'] %>
rpc.class=org.apache.hadoop.metrics.spi.NullContextWithUpdateThread
rpc.period=<%= scope['hadoop::config::metrics_sampling_period'] %>
jvm.class=org.apache.hadoop.metrics.spi.NullContextWithUpdateThread
jvm.period=<%= scope['hadoop::config::metrics_sampling_period'] %>
ugi.class=org.apache.hadoop.metrics.spi.NullContextWithUpdateThread
ugi.period=<%= scope['hadoop::config::metrics_sampling_period'] %>
fairscheduler.class=org.apache.hadoop.metrics.spi.NullContextWithUpdateThread
fairscheduler.period=<%= scope['hadoop::config::metrics_sampling_period'] %>
<% end -%> <%# if use_ganglia %>
